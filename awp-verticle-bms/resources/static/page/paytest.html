<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
    <title>支付测试</title>
</head>
<body>
<span>请在支付配置中增加支付授权目录：<br/>
    <code>域名/static/page/</code><br/>
    以进行测试
</span>
<br/>
<button id="payBtn" >微信支付</button>
<script type="text/javascript" src="../js/jquery.min.js"></script>
<script type="text/javascript" src="https://res.wx.qq.com/open/js/jweixin-1.2.0.js"></script>
<script type="text/javascript" src="../turing/wechatPay.js"></script>
<script>
    !function(){"use strict";function a(){this._keyStr="DJOA7qGmIkxoKdPFXiSE8wCeHZ1vcTbrVh3B9LfWNpUlsnu-gjYzMyt0452RQ6,a~"}a.prototype.tren=function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=this._utf8_encode(a);j<a.length;)b=a.charCodeAt(j++),c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),i=i+this._keyStr.charAt(e)+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h);return i},a.prototype.trdc=function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=a.replace(/[^A-Za-z0-9\-,~]/g,"");j<a.length;)e=this._keyStr.indexOf(a.charAt(j++)),f=this._keyStr.indexOf(a.charAt(j++)),g=this._keyStr.indexOf(a.charAt(j++)),h=this._keyStr.indexOf(a.charAt(j++)),b=e<<2|f>>4,c=(15&f)<<4|g>>2,d=(3&g)<<6|h,i+=String.fromCharCode(b),64!=g&&(i+=String.fromCharCode(c)),64!=h&&(i+=String.fromCharCode(d));return i=this._utf8_decode(i)},a.prototype._utf8_encode=function(a){var b,c,d;for(a=a.replace(/\r\n/g,"\n"),b="",c=0;c<a.length;c++)d=a.charCodeAt(c),128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(192|d>>6),b+=String.fromCharCode(128|63&d)):(b+=String.fromCharCode(224|d>>12),b+=String.fromCharCode(128|63&d>>6),b+=String.fromCharCode(128|63&d));return b},a.prototype._utf8_decode=function(a){for(var b="",c=0,d=0,e=0,f=0;c<a.length;)d=a.charCodeAt(c),128>d?(b+=String.fromCharCode(d),c++):d>191&&224>d?(e=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&e),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&e)<<6|63&f),c+=3);return b},window.Base=new a}();
    String.prototype.trdc = function(){return Base.trdc(this)};
    String.prototype.tren = function(){return Base.tren(this)};
    var $basePath = "http://bhehjx.natappfree.cc/";

    WechatPay.init({
        el: "#payBtn",
        preUrl: $basePath + 'pay/wx/pre/2/',
        orderUrl: $basePath + 'pay/wx/order',
        orderData: {//下单数据JSON
            eid: 2,
            orderId: new Date().getTime(),
            openId: 'of3Pl0-vJ7gN3kINjwup3TyCOBuk',
            price: 1,
            name: '产品名',
            callback: 'http://www.baidu.com'
        },
        debug: true,
        paySuccess: undefined,
        payError: undefined,
        alertMethod: alert  //function(msg){swal("***", msg);}
    });
</script>
</body>
</html>